(function(){"use strict";var e={7833:function(e,t,o){var n=o(9242),s=o(7139),r=o(6265),a=o.n(r);const i=a().create({baseURL:"https://revzork.revunit.com/api",headers:{"Content-type":"application/json"}});i.interceptors.request.use((e=>(e.headers={"x-api-key":d.getters.apiKey},e)));var c=i;const d=(0,s.MT)({state(){return{apiKey:{NODE_ENV:"production",BASE_URL:"/revzork-vue-client/"}.VUE_APP_API_KEY||"",history:[],inventory:[],me:{}}},getters:{apiKey:e=>e.apiKey,history:(e,t)=>e.history,inventory:e=>e.inventory,me:e=>e.me},mutations:{increment:e=>e.count++,decrement:e=>e.count--,pushHistory:(e,t)=>e.history.push(t),setInventory:(e,t)=>e.inventory=t,setMe:(e,t)=>e.me=t,setApiKey:(e,t)=>e.apiKey=t},actions:{async lookAround({commit:e}){try{const t=await c.post("/room/look",{command:""}),o={status:t.status+"-"+t.statusText,headers:t.headers,data:t.data};e("pushHistory",o.data)}catch(t){console.log("error: ",t.response)}},async lookDirection({commit:e},t){try{const o=await c.post("/room/look",{command:`${t}`}),n={status:o.status+"-"+o.statusText,headers:o.headers,data:o.data};e("pushHistory",n.data)}catch(o){console.log("error: ",o.response)}},async moveDirection({commit:e},t){try{const o=await c.post("/room/move",{command:`${t}`}),n={status:o.status+"-"+o.statusText,headers:o.headers,data:o.data};e("pushHistory",n.data),d.dispatch("lookAround")}catch(o){console.log("error: ",o.response)}},async fetchInventory({commit:e}){try{const t=await c.get("/character/inventory"),o={status:t.status+"-"+t.statusText,headers:t.headers,data:t.data};e("setInventory",o.data.response)}catch(t){console.log("error: ",t.response)}},async getDoodad({commit:e},t){try{const o=await c.post("/doodad/get",{command:`${t}`}),n={status:o.status+"-"+o.statusText,headers:o.headers,data:o.data};e("pushHistory",n.data),d.dispatch("fetchInventory")}catch(o){console.log("error: ",o.response)}},async useDoodad({commit:e},t){try{const o=await c.post("/doodad/use",{command:`${t}`}),n={status:o.status+"-"+o.statusText,headers:o.headers,data:o.data};e("pushHistory",n.data),d.dispatch("fetchInventory")}catch(o){console.log("error: ",o.response)}},async fetchMe({commit:e}){try{const t=await c.get("/character/me"),o={status:t.status+"-"+t.statusText,headers:t.headers,data:t.data};e("setMe",o.data)}catch(t){console.log("error: ",t.response)}},increment(e){e.commit("increment")}}});var u=o(3396),l=o.p+"img/logo.65e6b33d.svg";const p={class:"app-container"},m=(0,u._)("section",{class:"app-container__left"},null,-1),v={class:"app-container__center"},y=(0,u._)("img",{alt:"RevZork",src:l},null,-1),h={class:"app-container__right"};function g(e,t,o,n,s,r){const a=(0,u.up)("InputApiKey"),i=(0,u.up)("CommandLook"),c=(0,u.up)("event-list"),d=(0,u.up)("CharacterMe"),l=(0,u.up)("CharacterInventory");return(0,u.wg)(),(0,u.iD)("div",p,[e.apiKey?(0,u.kq)("",!0):((0,u.wg)(),(0,u.j4)(a,{key:0})),e.apiKey?((0,u.wg)(),(0,u.iD)(u.HY,{key:1},[m,(0,u._)("section",v,[y,(0,u.Wm)(i),(0,u.Wm)(c)]),(0,u._)("section",h,[(0,u.Wm)(d),(0,u.Wm)(l)])],64)):(0,u.kq)("",!0)])}var k=o(2268);const f=e=>((0,u.dD)("data-v-62766c22"),e=e(),(0,u.Cn)(),e),w=f((()=>(0,u._)("h5",null,"Inventory",-1))),_={class:"inventory-container"},D={class:"label"},C={class:"actions"},x=["onClick"];function b(e,t,o,n,s,r){return(0,u.wg)(),(0,u.iD)("section",null,[w,(0,u._)("div",_,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(e.inventory,((t,o)=>((0,u.wg)(),(0,u.iD)("div",{key:o,class:"item"},[(0,u._)("div",D,[(0,u._)("code",null,(0,k.zw)(t.slug),1)]),(0,u._)("div",C,[(0,u._)("button",{onClick:o=>e.useDoodad(t.slug)},"Use",8,x)])])))),128))])])}var z={name:"CharacterInventory",computed:{...(0,s.Se)(["inventory"])},methods:{...(0,s.nv)(["fetchInventory","useDoodad"])},mounted(){this.fetchInventory()}},A=o(89);const K=(0,A.Z)(z,[["render",b],["__scopeId","data-v-62766c22"]]);var I=K;const L=e=>((0,u.dD)("data-v-6d3a1cce"),e=e(),(0,u.Cn)(),e),M={class:"character-me__container"},T=L((()=>(0,u._)("h5",null,"Me",-1))),E={key:0,class:"container"},H={class:"item"},W={class:"item"},O=(0,u.Uk)(" location "),Z={class:"item"},q={class:"item"},Y={class:"item"};function j(e,t,o,n,s,r){return(0,u.wg)(),(0,u.iD)("section",M,[T,e.me.response?((0,u.wg)(),(0,u.iD)("div",E,[(0,u._)("div",H,"name: "+(0,k.zw)(e.me.response.adventurer.name),1),(0,u._)("div",W,"deaths: "+(0,k.zw)(e.me.response.adventurer.deaths),1),O,(0,u._)("div",Z,"slug: "+(0,k.zw)(e.me.response.location.puzzle.slug),1),(0,u._)("div",q,"name: "+(0,k.zw)(e.me.response.location.puzzle.name),1),(0,u._)("div",Y,"room: "+(0,k.zw)(e.me.response.location.puzzle.room.slug),1)])):(0,u.kq)("",!0)])}var P={name:"CharacterMe",computed:{...(0,s.Se)(["me"])},methods:{...(0,s.nv)(["fetchMe"])},mounted(){this.fetchMe()}};const N=(0,A.Z)(P,[["render",j],["__scopeId","data-v-6d3a1cce"]]);var S=N;const U=["onClick"];function $(e,t,o,n,s,r){return(0,u.wg)(),(0,u.iD)("section",null,[o.exits?(0,u.kq)("",!0):((0,u.wg)(),(0,u.iD)("button",{key:0,onClick:t[0]||(t[0]=t=>e.lookAround())},"Look Around")),((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(o.exits,((t,o)=>((0,u.wg)(),(0,u.iD)("button",{key:o,onClick:o=>e.lookDirection(t)}," Look "+(0,k.zw)(t),9,U)))),128))])}var R={name:"CommandLook",props:{exits:{type:Array}},methods:{...(0,s.nv)(["lookAround","lookDirection"])}};const V=(0,A.Z)(R,[["render",$]]);var B=V;const F={class:"events"},G={key:0,class:"interactive"},J={class:"sidebar"},Q={key:1},X={key:2},ee={key:0,class:"actions"},te={class:"actions"};function oe(e,t,o,n,s,r){const a=(0,u.up)("NoteList"),i=(0,u.up)("CorpseList"),c=(0,u.up)("CommandMove"),d=(0,u.up)("CommandLook"),l=(0,u.up)("CommandDoodad");return(0,u.wg)(),(0,u.iD)("div",null,[(0,u._)("section",F,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(e.history,((e,t)=>((0,u.wg)(),(0,u.iD)("div",{key:t,class:"event"},[2===e.responseType?((0,u.wg)(),(0,u.iD)("div",G,[(0,u._)("div",null,(0,k.zw)(e.response.description),1),(0,u._)("div",J,[(0,u.Wm)(a,{notes:e.response.notes},null,8,["notes"]),(0,u.Wm)(i,{corpses:e.response.corpses},null,8,["corpses"])])])):(0,u.kq)("",!0),1===e.responseType?((0,u.wg)(),(0,u.iD)("div",Q,(0,k.zw)(e.response),1)):(0,u.kq)("",!0),0===e.responseType?((0,u.wg)(),(0,u.iD)("div",X,(0,k.zw)(e.response),1)):(0,u.kq)("",!0)])))),128))]),(0,u._)("section",null,[e.history.length?((0,u.wg)(),(0,u.iD)("div",ee,[(0,u._)("div",te,[(0,u.Wm)(c,{exits:r.lastEventWithActions.response.exits},null,8,["exits"]),(0,u.Wm)(d,{exits:r.lastEventWithActions.response.exits},null,8,["exits"]),(0,u.Wm)(l,{doodads:r.lastEventWithActions.response.doodads},null,8,["doodads"])])])):(0,u.kq)("",!0)])])}const ne=["onClick"];function se(e,t,o,n,s,r){return(0,u.wg)(),(0,u.iD)("section",null,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(o.exits,((e,t)=>((0,u.wg)(),(0,u.iD)("button",{key:t,onClick:t=>r.move(`${e}`)}," Move "+(0,k.zw)(e),9,ne)))),128))])}var re={name:"CommandMove",props:{exits:{type:Array}},data(){return{}},methods:{...(0,s.nv)(["moveDirection"]),async move(e){this.moveDirection(e)}}};const ae=(0,A.Z)(re,[["render",se]]);var ie=ae;const ce=["onClick"];function de(e,t,o,n,s,r){return(0,u.wg)(),(0,u.iD)("section",null,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(o.doodads,(t=>((0,u.wg)(),(0,u.iD)("button",{key:t.slug,onClick:o=>e.getDoodad(t.slug)}," Pickup "+(0,k.zw)(t.slug),9,ce)))),128))])}var ue={name:"CommandDoodad",props:{doodads:{type:Array}},methods:{...(0,s.nv)(["getDoodad"])}};const le=(0,A.Z)(ue,[["render",de]]);var pe=le;const me=e=>((0,u.dD)("data-v-3c3d61b5"),e=e(),(0,u.Cn)(),e),ve={key:0,class:"list"},ye=me((()=>(0,u._)("h6",null,"Corpses",-1))),he=["title"];function ge(e,t,o,n,s,r){return o.corpses.length?((0,u.wg)(),(0,u.iD)("section",ve,[ye,((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(o.corpses,(e=>((0,u.wg)(),(0,u.iD)("div",{key:e.slug,title:e.lookMessage,class:"corpse"},(0,k.zw)(e.slug),9,he)))),128))])):(0,u.kq)("",!0)}var ke={name:"CorpseList",props:{corpses:{type:Array}}};const fe=(0,A.Z)(ke,[["render",ge],["__scopeId","data-v-3c3d61b5"]]);var we=fe;const _e=e=>((0,u.dD)("data-v-2f2d7414"),e=e(),(0,u.Cn)(),e),De={key:0,class:"list"},Ce=_e((()=>(0,u._)("h6",null,"Notes",-1))),xe=["title"];function be(e,t,o,n,s,r){return o.notes.length?((0,u.wg)(),(0,u.iD)("section",De,[Ce,((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(o.notes,(e=>((0,u.wg)(),(0,u.iD)("div",{key:e.slug,title:e.lookMessage,class:"note"},(0,k.zw)(e.slug),9,xe)))),128))])):(0,u.kq)("",!0)}var ze={name:"NoteList",props:{notes:{type:Array,default:()=>[]}}};const Ae=(0,A.Z)(ze,[["render",be],["__scopeId","data-v-2f2d7414"]]);var Ke=Ae,Ie={name:"EventList",components:{CommandMove:ie,CommandLook:B,CommandDoodad:pe,CorpseList:we,NoteList:Ke},data(){return{}},computed:{...(0,s.Se)(["history"]),lastEventWithActions(){return this.history.find((e=>2===e.responseType))},lastEventWithActionsIndex(){return this.history.findIndex((e=>2===e.responseType))}},methods:{}};const Le=(0,A.Z)(Ie,[["render",oe],["__scopeId","data-v-394f7352"]]);var Me=Le;const Te=e=>((0,u.dD)("data-v-f7e75e46"),e=e(),(0,u.Cn)(),e),Ee=Te((()=>(0,u._)("img",{alt:"RevZork",src:l},null,-1))),He=Te((()=>(0,u._)("div",null,"API KEY",-1))),We=Te((()=>(0,u._)("button",{type:"submit"},"Play",-1)));function Oe(e,t,o,s,r,a){return(0,u.wg)(),(0,u.iD)("form",{onSubmit:t[1]||(t[1]=(...e)=>a.saveKey&&a.saveKey(...e)),class:"unauth"},[Ee,He,(0,u.wy)((0,u._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>r.key=e)},null,512),[[n.nr,r.key]]),We],32)}var Ze={name:"InputApiKey",data(){return{key:""}},methods:{saveKey(){this.$store.commit("setApiKey",this.key)}}};const qe=(0,A.Z)(Ze,[["render",Oe],["__scopeId","data-v-f7e75e46"]]);var Ye=qe,je={name:"App",components:{CharacterInventory:I,CharacterMe:S,CommandLook:B,EventList:Me,InputApiKey:Ye},computed:{...(0,s.Se)(["apiKey"])},methods:{}};const Pe=(0,A.Z)(je,[["render",g]]);var Ne=Pe;const Se=(0,n.ri)(Ne);Se.use(d),Se.mount("#app")}},t={};function o(n){var s=t[n];if(void 0!==s)return s.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,o),r.exports}o.m=e,function(){var e=[];o.O=function(t,n,s,r){if(!n){var a=1/0;for(u=0;u<e.length;u++){n=e[u][0],s=e[u][1],r=e[u][2];for(var i=!0,c=0;c<n.length;c++)(!1&r||a>=r)&&Object.keys(o.O).every((function(e){return o.O[e](n[c])}))?n.splice(c--,1):(i=!1,r<a&&(a=r));if(i){e.splice(u--,1);var d=s();void 0!==d&&(t=d)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,s,r]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.p="/revzork-vue-client/"}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,r,a=n[0],i=n[1],c=n[2],d=0;if(a.some((function(t){return 0!==e[t]}))){for(s in i)o.o(i,s)&&(o.m[s]=i[s]);if(c)var u=c(o)}for(t&&t(n);d<a.length;d++)r=a[d],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(u)},n=self["webpackChunkrevzork_explore"]=self["webpackChunkrevzork_explore"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(7833)}));n=o.O(n)})();
//# sourceMappingURL=app.23b185ae.js.map